/* Custom CSS Variables - DEFAULT: Dark Mode */
:root {
    /* Primary Color: Used for main interactive elements like links and active states. */
    --primary-color: #6a8aff; /* Yorqinroq ko'k (Brighter blue) */
    /* Secondary Color: Often for less prominent text or borders. */
    --secondary-color: #a3a3a3; /* Och kulrang (Light gray) */
    /* Accent Color: For highlights, call-to-action elements, or important information. */
    --accent-color: #8bff6a; /* Yorqin yashil (Bright green) */
    /* Text Colors: Define general text and lighter variations for subtle content. */
    --text-color: #e0e0e0; /* Oqish matn (Whitish text) */
    --light-text-color: #a0a0a0; /* Och kulrang matn (Light gray text) */
    /* Basic Colors: Pure white and black. */
    --white-color: #fff; /* Oq (White) */
    --black-color: #000; /* Qora (Black) */

    /* Dark Glassmorphism Properties: Define styles for frosted glass effect in dark mode. */
    --glass-bg-light: rgba(255, 255, 255, 0.08); /* juda och fon (very light background) */
    --glass-bg-dark: rgba(0, 0, 0, 0.4); /* to'q fon (dark background) */
    --glass-border: rgba(255, 255, 255, 0.1); /* Chegara (Border) */
    --glass-shadow: rgba(0, 0, 0, 0.3); /* Soya (Shadow) */
    --hover-effect: rgba(255, 255, 255, 0.15); /* Hover effekti (Hover effect) */

    /* Neo-Brutalism for Dark Mode: Defines styles for a raw, high-contrast, modern aesthetic. */
    --neo-background: #1a1a2e; /* To'q ko'k fon (Dark blue background) */
    --neo-background-rgb: 26, 26, 46; /* YANGI: RGB qiymatlari (NEW: RGB values) - useful for rgba constructions */
    --neo-shadow-light: #2c2c4d; /* Yorqinroq soya (Lighter shadow) */
    --neo-shadow-dark: #0f0f1d; /* To'qroq soya (Darker shadow) */
    --neo-element-bg: #22223b; /* Elementlar foni (Elements background) */
    --neo-text: #e0e0e0; /* Oqish matn (Whitish text) - Repeats text-color, consider if differentiation is needed. */
    --neo-accent: #e94560; /* Qizil aksent (Red accent) */
    --neo-button-bg: linear-gradient(145deg, #2c2c4d, #1a1a2e); /* Gradient for buttons */
    --neo-button-shadow: 4px 4px 8px var(--neo-shadow-dark), -4px -4px 8px var(--neo-shadow-light); /* Complex shadow for depth */
    --neo-inner-shadow: inset 2px 2px 5px var(--neo-shadow-dark), inset -3px -3px 7px var(--neo-shadow-light); /* Inner shadow for embossed effect */
}

/* Light Mode Variables: Overrides for light theme, typically activated by a 'light-mode' class on the body. */
body.light-mode {
    /* Primary Color: Often a standard blue for links/actions. */
    --primary-color: #007bff; /* Moviy (Blue) */
    /* Secondary Color: Neutral gray. */
    --secondary-color: #6c757d; /* Kulrang (Gray) */
    /* Accent Color: Standard green for success/highlight. */
    --accent-color: #28a745; /* Yashil (Green) */
    /* Text Colors: Darker for contrast on light backgrounds. */
    --text-color: #333; /* To'q kulrang (Dark gray) */
    --light-text-color: #666; /* Och kulrang (Light gray) */
    /* Basic Colors: Remains constant. */
    --white-color: #fff; /* Oq (White) */
    --black-color: #000; /* Qora (Black) */

    /* Light Glassmorphism: Lighter transparency and border for glass effect. */
    --glass-bg-light: rgba(255, 255, 255, 0.6); /* Ochiq glassmorphism fon (Light glassmorphism background) */
    --glass-bg-dark: rgba(255, 255, 255, 0.3); /* To'qroq glassmorphism fon (Darker glassmorphism background) */
    --glass-border: rgba(200, 200, 200, 0.5); /* Glassmorphism chegara (Glassmorphism border) */
    --glass-shadow: rgba(0, 0, 0, 0.15); /* Glassmorphism soya (Glassmorphism shadow) */
    --hover-effect: rgba(220, 220, 220, 0.8); /* Hover effekti (Hover effect) */

    /* Neo-Brutalism for Light Mode: Lighter background and shadow effects. */
    --neo-background: linear-gradient(145deg, #e0e5ec, #ffffff); /* Light gradient background */
    --neo-background-rgb: 224, 229, 236; /* YANGI: RGB qiymatlari (NEW: RGB values) */
    --neo-shadow-light: #a3b1c6;
    --neo-shadow-dark: #ffffff;
    --neo-element-bg: #e0e5ec;
    --neo-text: #3f51b5; /* To'qroq ko'k (Darker blue) - Specific text color for light mode neo-brutalism. */
    --neo-accent: #ff4081; /* Qizil rang (Red color) */
    --neo-button-bg: linear-gradient(145deg, #d4dae0, #e9f0f6);
    --neo-button-shadow: 4px 4px 8px var(--neo-shadow-light), -4px -4px 8px var(--neo-shadow-dark);
    --neo-inner-shadow: inset 2px 2px 5px var(--neo-shadow-light), inset -3px -3px 7px var(--neo-shadow-dark);
}

/* Global Reset and Box-sizing: Standard reset for consistent rendering across browsers. */
*, *::before, *::after {
    box-sizing: border-box; /* Ensures padding and border are included in element's total width/height. */
    margin: 0;
    padding: 0;
}

/* Base Body Styles: Sets up font, line height, text color, and background. */
body {
    font-family: 'Poppins', sans-serif; /* Modern and readable font. */
    line-height: 1.6; /* Good readability for paragraphs. */
    color: var(--text-color); /* Uses CSS variable for text color, enabling theme switching. */
    background: var(--neo-background); /* Uses CSS variable for background, enabling theme switching. */
    min-height: 100vh; /* Ensures body takes at least full viewport height. */
    display: flex; /* Enables flexbox for easy layout (e.g., sticky footer). */
    flex-direction: column; /* Stacks children vertically. */
    transition: background 0.5s ease, color 0.5s ease; /* Smooth transition for theme changes. */
}

/* Link Styles: Basic styling for hyperlinks. */
a {
    color: var(--primary-color); /* Uses primary color for links. */
    text-decoration: none; /* Removes underline. */
    transition: color 0.3s ease; /* Smooth color change on hover. */
}

a:hover {
    color: var(--accent-color); /* Changes to accent color on hover. */
}

/* Container for Centering Content: Standard class to constrain and center content. */
.container {
    max-width: 1200px; /* Limits content width for readability. */
    margin: 0 auto; /* Centers the container horizontally. */
    padding: 0 20px; /* Adds horizontal padding to prevent content from touching screen edges. */
}

/* ===============================================
    Glassmorphism Styles: Core styles for elements with a frosted glass effect.
    =============================================== */
.glassmorphism-card {
    background: var(--glass-bg-light); /* Translucent background. */
    border-radius: 16px; /* Rounded corners. */
    box-shadow: 0 4px 30px var(--glass-shadow); /* Soft shadow for depth. */
    backdrop-filter: blur(10px); /* Key property for frosted glass effect. */
    -webkit-backdrop-filter: blur(10px); /* Webkit prefix for compatibility. */
    border: 1px solid var(--glass-border); /* Subtle border. */
    transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.5s ease, border-color 0.5s ease; /* Smooth transitions for interactions and theme changes. */
}

.glassmorphism-card:hover {
    transform: translateY(-5px); /* Lifts the card slightly on hover. */
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15); /* More pronounced shadow on hover. */
}

.glassmorphism-button {
    background: var(--glass-bg-light);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    padding: 10px 15px;
    font-weight: 500;
    color: var(--neo-text); /* Uses neo-text for button text color. */
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex; /* Allows icon and text alignment. */
    align-items: center; /* Vertically centers content. */
    gap: 8px; /* Ikonka va matn orasidagi bo'shliq (Gap between icon and text) */
}

.glassmorphism-button:hover {
    background: var(--hover-effect);
    color: var(--primary-color);
    box-shadow: 0 2px 10px var(--glass-shadow);
}

.glassmorphism-input {
    background: var(--glass-bg-dark); /* Darker glass background for input fields. */
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    padding: 10px 15px;
    color: var(--text-color);
    box-shadow: var(--neo-inner-shadow); /* Applies neo-brutalism inner shadow for embossed look. */
    transition: all 0.3s ease, background 0.5s ease, border-color 0.5s ease;
    display: flex; /* For aligning icon/text within input. */
    align-items: center;
}

.glassmorphism-input input {
    background: transparent; /* Makes the actual input field transparent. */
    border: none;
    outline: none;
    color: var(--text-color); /* Matn rangini o'zgaruvchidan olish (Get text color from variable) */
    width: 100%;
    padding: 0;
    font-size: 1rem;
}

.glassmorphism-input input::placeholder {
    color: var(--light-text-color); /* Placeholder text color. */
}

.glassmorphism-header {
    background: var(--glass-bg-light);
    border-bottom: 1px solid var(--glass-border);
    box-shadow: 0 2px 15px var(--glass-shadow);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 15px 0;
    position: sticky; /* Keeps header visible on scroll. */
    top: 0;
    z-index: 1000; /* Ensures header is above other content. */
    transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
}

.glassmorphism-header .container {
    display: flex;
    justify-content: space-between; /* Distributes items with space between them. */
    align-items: center;
    gap: 20px; /* Elementlar orasidagi bo'shliq (Gap between elements) */
}

.glassmorphism-header .logo {
    display: flex;
    align-items: center;
    flex-shrink: 0; /* Kichraymasligi uchun (To prevent shrinking) */
}

.glassmorphism-header .logo .header-logo {
    height: 40px; /* Logotip balandligi (Logo height) */
    width: auto;
}

.glassmorphism-header .logo span {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--neo-text); /* Logotip matn rangi (Logo text color) */
    white-space: nowrap; /* Matnni bir qatorda saqlash (Keep text on one line) */
    transition: color 0.5s ease;
}

.glassmorphism-footer {
    background: var(--glass-bg-light);
    border-top: 1px solid var(--glass-border);
    box-shadow: 0 -2px 15px var(--glass-shadow);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 40px 0 20px;
    margin-top: auto; /* Footer sahifa oxiriga yopishadi (Footer sticks to the bottom of the page) */
    color: var(--text-color);
    transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease, color 0.5s ease;
}

.glassmorphism-footer .container {
    display: flex;
    flex-wrap: wrap; /* Allows columns to wrap on smaller screens. */
    justify-content: space-between;
    gap: 30px;
}

.glassmorphism-footer .footer-col {
    flex: 1; /* Allows columns to grow and shrink. */
    min-width: 200px; /* Minimum width before wrapping. */
}

.glassmorphism-footer .footer-col h3 {
    margin-bottom: 15px;
    color: var(--neo-text); /* Sarlavha rangi (Heading color) */
    font-size: 1.2rem;
    transition: color 0.5s ease;
}

.glassmorphism-footer .footer-col p {
    font-size: 0.9rem;
    line-height: 1.8;
    color: var(--light-text-color);
}

.glassmorphism-footer .footer-col ul {
    list-style: none; /* Removes bullet points from lists. */
}

.glassmorphism-footer .footer-col ul li {
    margin-bottom: 8px;
}

.glassmorphism-footer .footer-col ul li a {
    color: var(--light-text-color);
    transition: color 0.3s ease;
    font-size: 0.9rem;
}

.glassmorphism-footer .footer-col ul li a:hover {
    color: var(--primary-color);
}

.glassmorphism-footer .social-icons a {
    margin-right: 10px;
    font-size: 1.2rem;
    width: 40px;
    height: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    color: var(--neo-text); /* Ikonka rangi (Icon color) */
    background: var(--glass-bg-light);
    border: 1px solid var(--glass-border);
    transition: all 0.3s ease, background 0.5s ease, border-color 0.5s ease, color 0.5s ease;
}

.glassmorphism-footer .social-icons a:hover {
    background: var(--primary-color);
    color: var(--white-color);
    box-shadow: 0 4px 10px var(--glass-shadow);
}

.glassmorphism-footer .copyright {
    text-align: center;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid var(--glass-border);
    font-size: 0.85rem;
    color: var(--light-text-color);
}

/* Dropdown Menu Styles */
.glassmorphism-dropdown {
    display: none; /* Hidden by default. */
    position: absolute; /* Positions relative to parent. */
    background: var(--glass-bg-light);
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1; /* Ensures dropdown is above other content. */
    border-radius: 10px;
    backdrop-filter: blur(15px); /* Stronger blur for dropdown. */
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border);
    padding: 10px 0;
    transition: background 0.5s ease, border-color 0.5s ease;
}

.glassmorphism-dropdown a {
    color: var(--text-color); /* Matn rangi (Text color) */
    padding: 12px 16px;
    text-decoration: none;
    display: block; /* Makes the whole area clickable. */
    text-align: left;
    transition: background-color 0.3s ease, color 0.5s ease;
}

.glassmorphism-dropdown a:hover {
    background-color: var(--hover-effect);
    color: var(--primary-color);
}

.dropdown:hover .dropdown-content,
.dropdown .dropdown-content.show { /* '.show' class for JavaScript control. */
    display: block;
}

.dropdown {
    position: relative; /* Essential for positioning the absolute dropdown. */
    display: inline-block;
}

/* ===============================================
    Header specific styles: Detailed layout and styling for the header.
    =============================================== */
.glassmorphism-header .search-bar {
    flex-grow: 1; /* Allows search bar to take available space. */
    max-width: 500px; /* YANGI: Maksimal kenglikni oshiramiz (NEW: Increased max width) */
    margin: 0 20px;
}
.glassmorphism-header .search-bar input {
    padding-left: 10px;
}
.glassmorphism-header .search-bar .fas { /* Styling for Font Awesome icons within search. */
    color: var(--light-text-color);
}

.glassmorphism-header .main-nav ul {
    list-style: none;
    display: flex;
    gap: 15px; /* Nav linklari orasidagi bo'shliq (Gap between nav links) */
    align-items: center; /* Barcha navigatsiya elementlarini vertikal markazga tekislash (Align all nav elements vertically center) */
}

.glassmorphism-header .main-nav ul li .glassmorphism-button {
    padding: 8px 12px;
    font-size: 0.95rem;
    white-space: nowrap; /* Prevents text from wrapping. */
    display: flex;
    align-items: center; /* Tugma ichidagi kontentni vertikal markazga (Vertically center content inside button) */
    justify-content: center; /* Tugma ichidagi kontentni gorizontal markazga (Horizontally center content inside button) */
}

/* Faqat bosh sahifa tugmasi (uycha belgisini) kattalashtirish (Enlarging only the home button icon) */
.glassmorphism-header .main-nav ul li .glassmorphism-button .fas.fa-home {
    font-size: 1.3rem;
}

/* Umumiy .fas ikonkalar uchun, agar yuqoridagi yetarli bo'lmasa (For general .fas icons, if the above is not enough) */
.glassmorphism-header .main-nav ul li .glassmorphism-button .fas {
    /* Bu yerga umumiy icon style yozilishi mumkin, lekin fa-home ga alohida prioritet beramiz */
}

.glassmorphism-header .user-actions {
    display: flex; /* Faqat desktopda ko'rsatamiz (Show only on desktop) */
    gap: 10px;
    flex-shrink: 0;
}

.glassmorphism-header .user-actions .glassmorphism-button {
    width: 40px; /* Ikonkalar uchun dumaloq tugmalar (Round buttons for icons) */
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    padding: 0;
    position: relative; /* For positioning cart count. */
}

.glassmorphism-header .user-actions .glassmorphism-button .cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--neo-accent);
    color: var(--white-color);
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 0.7rem;
    font-weight: bold;
    min-width: 20px; /* Raqamni sig'dirish uchun min-width (Min-width to accommodate number) */
    text-align: center;
}

/* Hamburger menu for mobile */
.hamburger-menu {
    display: none; /* Desktopda yashiramiz (Hidden on desktop) */
    font-size: 1.8rem;
    cursor: pointer;
    color: var(--neo-text);
    z-index: 1001; /* Menyuning tepasida turishi uchun (To be on top of the menu) */
    transition: color 0.5s ease;
}

/* Mobile search icon */
.mobile-search-icon {
    display: none; /* Desktopda yashiramiz (Hidden on desktop) */
    font-size: 1.4rem;
    cursor: pointer;
    color: var(--neo-text);
    margin-left: auto; /* O'ng tomonga surish (Push to the right) */
    margin-right: 15px;
    transition: color 0.5s ease;
}

/* Theme toggle button */
.theme-toggle-button {
    width: 40px; /* Qat'iy kenglik (Fixed width) */
    height: 40px; /* Qat'iy balandlik (Fixed height) */
    border-radius: 50%; /* Doira shaklini ta'minlash (Ensures circular shape) */
    background: var(--glass-bg-light);
    border: 1px solid var(--glass-border);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2rem;
    color: var(--neo-text);
    transition: all 0.3s ease, background 0.5s ease, border-color 0.5s ease, color 0.5s ease;
    flex-shrink: 0; /* Kichraymasligi uchun (To prevent shrinking) */
}

.theme-toggle-button:hover {
    background: var(--hover-effect);
    box-shadow: 0 2px 10px var(--glass-shadow);
}

/* ===============================================
    Hero Banner Styles: Large introductory section.
    =============================================== */
.hero-banner {
    width: 100%;
    height: 400px; /* Kichikroq balandlik (Smaller height) */
    background: url('https://source.unsplash.com/random/1600x400/?books,library,reading') no-repeat center center/cover; /* Dynamic background image. */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--white-color); /* Dark mode uchun oq (White for dark mode) */
    position: relative;
    overflow: hidden;
}

.hero-banner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4); /* To'qroq overlay (Darker overlay) */
    z-index: 1;
}

.hero-content {
    position: relative;
    z-index: 2;
    padding: 20px;
    background: rgba(255, 255, 255, 0.2); /* Yengilroq orqa fon (Lighter background) */
    backdrop-filter: blur(5px);
    border-radius: 15px;
    padding: 30px;
    max-width: 600px; /* Maksimal kenglikni kamaytirdik (Reduced max width) */
    text-align: center;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    border: 1px solid rgba(255, 255, 255, 0.18);
}

.hero-title-small {
    font-size: 2.5rem; /* Kichikroq sarlavha (Smaller heading) */
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    line-height: 1.2;
}

.hero-subtitle-small {
    font-size: 1.1rem; /* Kichikroq subtitle (Smaller subtitle) */
    margin-bottom: 20px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

/* YANGI: Light Mode uchun Hero banner matn rangi (NEW: Hero banner text color for Light Mode) */
body.light-mode .hero-banner .hero-content .hero-title-small,
body.light-mode .hero-banner .hero-content .hero-subtitle-small {
    color: var(--neo-text); /* Light mode uchun neo-text rangidan foydalanamiz (Using neo-text color for light mode) */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2); /* Yengilroq soya (Lighter shadow) */
}

.hero-button {
    display: none; /* "Kitoblarni Ko'rish" tugmasi butunlay olib tashlandi (The "View Books" button has been completely removed) */
}

/* ===============================================
    Sections (General): Common styles for content sections.
    =============================================== */
section {
    padding: 60px 0;
    /* margin-bottom: 40px; // Umumiy section uchun ishlatilmasa olib tashlang (Remove if not used for general section) */
}

.section-title {
    text-align: center;
    font-size: 2.2rem;
    margin-bottom: 40px;
    color: var(--neo-text);
    position: relative;
    padding-bottom: 10px;
    transition: color 0.5s ease;
}

.section-title::after {
    content: '';
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background-color: var(--primary-color);
    border-radius: 2px;
    transition: background-color 0.5s ease;
}

/* YANGI: Janrlar sectioni uchun alohida margin-bottom (NEW: Separate margin-bottom for genre section) */
.genre-section {
    margin-bottom: 80px; /* Footer bilan bo'shliq (Space with footer) */
}

/* ===============================================
    Book Grid Styles: Layout for displaying books.
    =============================================== */
.book-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Responsive grid columns. */
    gap: 30px;
    justify-content: center;
    align-items: stretch; /* Eng muhimi! Kartalar balandligini bir xil qiladi (Most important! Makes card heights equal) */
}

.book-card {
    display: flex;
    flex-direction: column;
    align-items: center; /* Kitob rasmi va boshqa elementlar markazda turishi uchun (For book image and other elements to be centered) */
    padding: 20px;
    text-align: center;
    color: var(--text-color);
    min-height: 420px; /* YANGI: minimal balandlikni kamaytiramiz (NEW: Reduced minimum height) */
    justify-content: space-between; /* Kontentni yuqoridan pastgacha teng taqsimlash (Distribute content evenly from top to bottom) */
}

.book-card img {
    width: 100%; /* Rasmni kartaning to'liq eniga moslash (Fit image to full card width) */
    height: 250px; /* Qat'iy balandlik berish (Give a fixed height) */
    object-fit: cover; /* Rasmni to'g'ri joylashtirish, qirqilgan bo'lsa ham (Properly position image, even if cropped) */
    border-radius: 10px;
    margin-bottom: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
    flex-shrink: 0; /* Rasm kichraymasligi uchun (To prevent image from shrinking) */
}

.book-card:hover img {
    transform: translateY(-5px);
}

.book-card .book-info {
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Matn qismi qolgan bo'sh joyni egallasin (Text section takes remaining space) */
    width: 100%;
    margin-bottom: 15px; /* Narx va tugmadan oldin bo'shliq (Space before price and button) */
}

.book-card .book-info h3 {
    font-size: 1.2rem;
    margin-bottom: 8px;
    color: var(--neo-text);
    min-height: 2.4em; /* Ikki qatorli sarlavha uchun (For two-line heading) */
    max-height: 2.4em; /* Qat'iy ikki qator (Strictly two lines) */
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Ikki qatorga cheklash (Limit to two lines) */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: color 0.5s ease;
    line-height: 1.2; /* Qator balandligi (Line height) */
    flex-shrink: 0; /* Sarlavha kichraymasligi uchun (To prevent heading from shrinking) */
}

.book-card .book-info .author,
.book-card .book-info .genre {
    font-size: 0.9rem;
    color: var(--light-text-color);
    margin-bottom: 5px;
    transition: color 0.5s ease;
    white-space: nowrap; /* Matn bir qatorda qolsin (Keep text on one line) */
    overflow: hidden; /* Chegaradan chiqsa yashiramiz (Hide if overflows) */
    text-overflow: ellipsis; /* ... ko'rsatish (Show ...) */
    flex-shrink: 0; /* Kichraymasligi uchun (To prevent shrinking) */
}

.book-card .book-info .price {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--primary-color);
    margin-top: auto; /* Narxni pastga yopishadi, tugmadan oldin (Price sticks to bottom, before button) */
    margin-bottom: 15px; /* Narx va tugma orasidagi bo'shliq (Space between price and button) */
    transition: color 0.5s ease;
    flex-shrink: 0; /* Kichraymasligi uchun (To prevent shrinking) */
}

.book-card .add-to-cart {
    width: 100%;
    padding: 12px 0;
    font-size: 1rem;
    border-radius: 8px;
    flex-shrink: 0;
    /* YANGI: Tugma ichidagi kontentni markazga tekislash (NEW: Center content inside button) */
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px; /* Belig va yozuv orasidagi bo'shliq (Space between icon and text) */
}

/* ===============================================
    Genre Grid Styles: Layout for displaying genres.
    =============================================== */
.genre-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    justify-content: center;
}

.genre-card {
    position: relative;
    overflow: hidden;
    height: 200px; /* Balandlikni belgilash (Set height) */
    display: flex;
    align-items: flex-end; /* Matnni pastga joylashtirish (Position text at the bottom) */
    padding: 20px;
    color: var(--white-color); /* Default (Dark Mode) uchun oq (White for Default (Dark Mode)) */
    text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
}

.genre-card .genre-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    filter: brightness(0.7); /* Rasmni to'qroq qilish (Darken the image) */
    transition: transform 0.4s ease;
    z-index: 0;
}

.genre-card:hover .genre-bg {
    transform: scale(1.05); /* Slight zoom effect on hover. */
}

.genre-card .genre-name {
    position: relative;
    z-index: 1;
    font-size: 1.5rem;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
}

/* YANGI: Light Mode uchun Janr nomlarining rangi (NEW: Genre names color for Light Mode) */
body.light-mode .genre-card .genre-name {
    color: var(--neo-text); /* Light mode'da matn rangini o'zgartirish (Change text color in light mode) */
    text-shadow: 1px 1px 2px rgba(255,255,255,0.7); /* Yengilroq oq soya, agar kerak bo'lsa (Lighter white shadow, if needed) */
}

body.light-mode .genre-card .genre-bg {
    filter: brightness(0.9); /* Rasmni biroz yorqinroq qilish (Make the image a bit brighter) */
}

body.light-mode .genre-card.glassmorphism-card {
    background: var(--glass-bg-light); /* Light mode uchun karta fonini aniqroq belgilash (Explicitly set card background for light mode) */
    border: 1px solid var(--glass-border); /* Light mode uchun chegara (Border for light mode) */
}

/* ===============================================
    Responsive Adjustments (Media Queries): Adapting layout for different screen sizes.
    =============================================== */

/* Overlay for mobile menu/search input */
.mobile-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Shaffoflikni oshirdik, endi 0.7 (Increased transparency, now 0.7) */
    backdrop-filter: blur(5px); /* YANGI: Orqa fondagi kontentga blur berish (NEW: Apply blur to background content) */
    -webkit-backdrop-filter: blur(5px); /* Webkit brauzerlar uchun (For Webkit browsers) */
    z-index: 999; /* Header ostida, lekin boshqa kontent ustida (Below header, but above other content) */
    display: none; /* Default holatda yashiramiz, JS bilan ko'rsatamiz (Hidden by default, shown with JS) */
    transition: opacity 0.3s ease;
    opacity: 0; /* Boshida shaffof bo'lsin (Transparent initially) */
}

.mobile-menu-overlay.active {
    display: block; /* Active bo'lganda ko'rsatamiz (Show when active) */
    opacity: 1;
}

/* Desktop-only: 768px dan yuqori ekran kengliklarida ishlaydi (Works on screen widths above 768px) */
@media (min-width: 769px) {
    .glassmorphism-header .user-actions.mobile-only, /* Mobil menyudagi foydalanuvchi tugmalarini yashirish (Hide user buttons in mobile menu) */
    .glassmorphism-header .main-nav .mobile-user-actions, /* Mobil menyu ichidagi umumiy mobil foydalanuvchi actions (General mobile user actions inside mobile menu) */
    .glassmorphism-header .main-nav .admin-mobile-link, /* Mobil menyu ichidagi admin linki (Admin link inside mobile menu) */
    .close-menu-button { /* Mobil menyuni yopish tugmasi (Close mobile menu button) */
        display: none !important; /* Muhim: bu elementlarni to'liq yashirish (Important: fully hide these elements) */
    }
}

@media (max-width: 992px) {
    .glassmorphism-header .logo span {
        font-size: 1.1rem;
    }
    .glassmorphism-header .search-bar {
        max-width: 400px;
    }
    .glassmorphism-header .main-nav ul {
        gap: 10px;
    }
    .glassmorphism-header .main-nav ul li .glassmorphism-button {
        padding: 6px 10px;
        font-size: 0.9rem;
    }
    .book-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
    .hero-title-small {
        font-size: 2.2rem;
    }
    .hero-subtitle-small {
        font-size: 1rem;
    }
}

@media (max-width: 768px) {
    .glassmorphism-header .container {
        flex-wrap: wrap; /* Allows items to wrap to the next line. */
        justify-content: space-between;
        padding: 0 15px;
    }

    .glassmorphism-header .logo {
        order: 1; /* Sets order for mobile layout. */
    }

    .hamburger-menu {
        display: block; /* Shows hamburger menu on mobile. */
        order: 3;
        margin-left: 15px;
        /* MUHIM O'ZGARTIRISH: hamburger-menu z-indexini oshirish (IMPORTANT CHANGE: increase hamburger-menu z-index) */
        z-index: 1005; /* Menyudan yuqoriroq bo'lishi kerak (Should be above the menu) */
    }

    .mobile-search-icon {
        display: block; /* Shows mobile search icon. */
        order: 2;
        margin-left: auto; /* O'ng tomonga surish (Push to the right) */
        margin-right: 15px;
        /* MUHIM O'ZGARTIRISH: mobile-search-icon z-indexini oshirish (IMPORTANT CHANGE: increase mobile-search-icon z-index) */
        z-index: 1005; /* Menyudan yuqoriroq bo'lishi kerak (Should be above the menu) */
    }

    .theme-toggle-button {
        order: 4;
        margin-left: 10px;
         /* MUHIM O'ZGARTIRISH: theme-toggle-button z-indexini oshirish (IMPORTANT CHANGE: increase theme-toggle-button z-index) */
        z-index: 1005; /* Menyudan yuqoriroq bo'lishi kerak (Should be above the menu) */
    }

    .glassmorphism-header .search-bar {
        order: 4;
        width: 100%;
        margin: 15px 0 0 0;
        display: none; /* Faqat .active-mobile bo'lganda ko'rsatiladi (Shown only when .active-mobile) */
    }

    .glassmorphism-header .search-bar.active-mobile {
        display: flex;
        position: absolute;
        top: 65px;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - 30px); /* O'zgarishsiz qoldiramiz, chunki bu header ichidagi qidiruv paneli uchun (Leave unchanged, as this is for the search bar inside the header) */
        max-width: unset; /* Bu qidiruv paneliga tegishli (Belongs to this search bar) */
        box-sizing: border-box;
        z-index: 1000;
        animation: slideDownFadeIn 0.3s forwards; /* Animation for search bar. */
    }

    @keyframes slideDownFadeIn {
        from {
            opacity: 0;
            transform: translate(-50%, -20px);
        }
        to {
            opacity: 1;
            transform: translate(-50%, 0);
        }
    }

    .glassmorphism-header .main-nav {
        position: fixed;
        top: 0;
        right: -100%; /* Initially off-screen. */
        width: 100%;
        max-width: 400px;
        height: 100vh;
        /* QIYMATLAR O'ZGARTIRILDI (VALUES CHANGED) */
        background: rgba(0, 0, 0, 0.95); /* Oldingidan ham to'qroq, deyarli qora (Even darker than before, almost black) */
        backdrop-filter: blur(40px); /* BIJIR-BIJIR effektini yanada kuchaytirdim (Increased blur effect even more) */
        -webkit-backdrop-filter: blur(40px); /* BIJIR-BIJIR effektini yanada kuchaytirdim (Increased blur effect even more) */
        border-left: 1px solid var(--glass-border);
        box-shadow: -4px 0 15px rgba(0, 0, 0, 0.7); /* Soya ham yanada to'qroq (Shadow is also darker) */
        transition: right 0.4s ease-in-out, background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        z-index: 1002; /* Hamburger ikonkasi (1001) ustida turishi kerak. (Should be above hamburger icon (1001).) */
        padding-top: 80px; /* Yopish tugmasi uchun joy (Space for close button) */
        display: flex;
        flex-direction: column;
        overflow-y: auto; /* Allows scrolling if menu content is too long. */
        overflow-x: hidden;
        box-sizing: border-box;
        justify-content: space-between; /* Elementlarni yuqori va pastki qismlarga taqsimlash (Distribute elements to top and bottom) */
    }

    /* Light Mode'da mobil menyu foni uchun alohida sozlama (Separate setting for mobile menu background in Light Mode) */
    body.light-mode .glassmorphism-header .main-nav {
        /* QIYMATLAR O'ZGARTIRILDI (VALUES CHANGED) */
        background: rgba(255, 255, 255, 0.99); /* Light mode'da deyarli to'liq oq (Almost completely white in light mode) */
        backdrop-filter: blur(40px); /* BIJIR-BIJIR effektini yanada kuchaytirdim (Increased blur effect even more) */
        -webkit-backdrop-filter: blur(40px); /* BIJIR-BIJIR effektini yanada kuchaytirdim (Increased blur effect even more) */
        box-shadow: -4px 0 15px rgba(0, 0, 0, 0.3); /* Light mode soyasi ham o'zgardi (Light mode shadow also changed) */
    }

    .glassmorphism-header .main-nav.active {
        right: 0; /* Slides menu into view. */
    }

    .glassmorphism-header .main-nav ul {
        flex-direction: column;
        width: 100%;
        padding: 20px;
        gap: 15px;
        box-sizing: border-box;
        align-items: center; /* Menyuning asosiy elementlarini markazga joylash (Center main menu items) */
    }

    .glassmorphism-header .main-nav ul li {
        width: 100%;
        text-align: center;
        box-sizing: border-box;
    }

    .glassmorphism-header .main-nav ul li .glassmorphism-button {
        width: 100%;
        padding: 15px 0;
        font-size: 1.1rem;
        display: flex;
        justify-content: center;
        box-sizing: border-box;
    }

    /* Desktopdagi user-actionsni yashiramiz, endi ular menyu ichida bo'ladi (Hide desktop user-actions, now they are inside the menu) */
    .glassmorphism-header .user-actions.desktop-only { /* Faqat desktop versiyasini yashirish (Hide only desktop version) */
        display: none;
    }

    /* Mobil menyu ichida yangi user-actions container (New user-actions container inside mobile menu) */
    .glassmorphism-header .main-nav .mobile-user-actions {
        display: flex; /* Faqat mobil menyu ichida ko'rsatamiz (Show only inside mobile menu) */
        flex-direction: column;
        width: 100%;
        padding: 10px 20px;
        margin-top: auto; /* Admin linkidan biroz yuqorida bo'lishi uchun (To be slightly above admin link) */
        gap: 15px;
        border-top: 1px solid var(--glass-border);
        padding-top: 20px;
        box-sizing: border-box;
    }

    .glassmorphism-header .main-nav .mobile-user-actions li {
        width: 100%;
        text-align: center;
        box-sizing: border-box;
    }

    .glassmorphism-header .main-nav .mobile-user-actions .glassmorphism-button {
        width: 100%;
        font-size: 1.1rem;
        padding: 15px 0;
        justify-content: center;
        box-sizing: border-box;
    }

    .glassmorphism-header .main-nav .mobile-user-actions .glassmorphism-button .cart-count {
        position: static; /* Resets positioning for mobile menu. */
        margin-left: 8px;
        background-color: var(--neo-accent);
        color: var(--white-color);
        border-radius: 5px;
        padding: 2px 8px;
        font-size: 0.8rem;
    }

    /* Admin linkini menyu pastiga "mixlash" (Pinning the admin link to the bottom of the menu) */
    .glassmorphism-header .main-nav .admin-mobile-link {
        width: 100%;
        padding: 10px 20px 20px; /* Pastdan biroz bo'sh joy qoldirish (Leave some space from the bottom) */
        margin-top: 15px; /* mobile-user-actions dan ajratish (Separate from mobile-user-actions) */
        box-sizing: border-box;
        text-align: center;
        /* Optional: border-top: 1px solid var(--glass-border); */ /* Agar kerak bo'lsa, separator (If needed, separator) */
    }
    .glassmorphism-header .main-nav .admin-mobile-link .glassmorphism-button {
        width: 100%;
        font-size: 1.1rem;
        padding: 15px 0;
        justify-content: center;
        box-sizing: border-box;
    }

    /* Dropdown mobil menyu ichida (Dropdown inside mobile menu) */
    .glassmorphism-dropdown {
        position: static; /* Changes to static for flow within mobile menu. */
        width: 100%;
        box-shadow: none;
        border: none;
        background: rgba(255, 255, 255, 0.1); /* Lighter background for nested dropdown. */
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 0;
        padding: 0;
        margin-top: 10px;
        max-height: 0; /* Used for collapsible effect. */
        overflow: hidden;
        transition: max-height 0.3s ease-in-out, background 0.5s ease;
        box-sizing: border-box;
    }

    .dropdown:hover .dropdown-content,
    .dropdown .dropdown-content.show {
        max-height: 300px; /* Expands to show content. */
        padding: 10px 0;
    }

    .glassmorphism-dropdown a {
        padding: 10px 20px;
        font-size: 1rem;
    }

    .hero-banner {
        height: 300px;
    }
    .hero-title-small {
        font-size: 2rem;
    }
    .hero-subtitle-small {
        font-size: 0.9rem;
    }
    .section-title {
        font-size: 1.8rem;
    }
    .book-grid {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 20px;
    }
    .book-card img {
        height: 200px;
    }
    .book-card .book-info h3 {
        font-size: 1rem;
        min-height: auto; /* Allows height to adjust if only one line. */
    }
    .book-card .add-to-cart {
        padding: 10px 0;
        font-size: 0.9rem;
    }
    .genre-grid {
        grid-template-columns: 1fr; /* Single column for genres on small screens. */
    }
    .genre-card {
        height: 180px;
    }
    .genre-card .genre-name {
        font-size: 1.3rem;
    }

    .glassmorphism-footer .container {
        flex-direction: column; /* Stacks footer columns vertically. */
        align-items: center;
        text-align: center;
    }
    .glassmorphism-footer .footer-col {
        min-width: unset; /* Removes min-width restriction. */
        width: 100%;
        margin-bottom: 20px;
    }
    .glassmorphism-footer .social-icons {
        margin-top: 10px;
    }
}

@media (max-width: 480px) {
    .glassmorphism-header .logo span {
        font-size: 1rem;
    }
    .glassmorphism-header .logo .header-logo {
        height: 35px;
    }
    .hamburger-menu {
        font-size: 1.5rem;
    }
    .mobile-search-icon {
        font-size: 1.2rem;
    }
    .glassmorphism-header .search-bar.active-mobile {
        top: 55px;
        width: calc(100% - 30px); /* Kichik ekranlar uchun (For smaller screens) */
    }

    .glassmorphism-header .main-nav {
        width: 100%; /* Eng kichik ekranlarda ham to'liq kenglik (Full width even on smallest screens) */
        max-width: unset; /* Har qanday max-width cheklovini olib tashlaymiz (Remove any max-width restrictions) */
    }
    .hero-banner {
        height: 250px;
    }
    .hero-title-small {
        font-size: 1.8rem;
    }
    .hero-subtitle-small {
        font-size: 0.8rem;
    }
    .section-title {
        font-size: 1.6rem;
    }
    .book-grid {
        grid-template-columns: 1fr; /* Single column for books on very small screens. */
        gap: 15px;
    }
    .book-card {
        min-height: 380px;
    }
    .book-card img {
        height: 220px;
    }
    .book-card .book-info h3 {
        font-size: 1.1rem;
    }
    .book-card .add-to-cart {
        font-size: 0.85rem;
    }
    .genre-card {
        height: 160px;
    }
    .genre-card .genre-name {
        font-size: 1.2rem;
    }
}

html, body {
    overflow-x: hidden; /* Gorizontal skrollni yashirish (Hide horizontal scroll) */
    width: 100%; /* Sahifa kengligini 100% qilib belgilash (Set page width to 100%) */
}

/* ===============================================
    YANGI: Hamburger menyuni yopish tugmasi (mobil menyu ichida) (NEW: Close hamburger menu button (inside mobile menu))
    =============================================== */
.close-menu-button {
    display: none; /* Desktopda yashiramiz (Hidden on desktop) */
    position: absolute; /* Menyuga nisbatan pozitsiyalash (Position relative to menu) */
    top: 20px;
    right: 20px;
    font-size: 2rem; /* Katta va ko'zga tashlanadigan (Large and noticeable) */
    color: var(--neo-text); /* Rangini neo-textdan olamiz (Get color from neo-text) */
    cursor: pointer;
    z-index: 1004; /* Menyuning o'zidan ham yuqoriroq! (main-nav z-index: 1002, hamburger 1005) (Higher than the menu itself! (main-nav z-index: 1002, hamburger 1005)) */
    transition: color 0.3s ease, transform 0.3s ease;
}

.close-menu-button:hover {
    color: var(--neo-accent); /* Hoverda aksent rangiga o'zgaradi (Changes to accent color on hover) */
    transform: rotate(90deg); /* Kichik animatsiya (Small animation) */
}

@media (max-width: 768px) {
    /* Agar close-menu-button menyuning ichida bo'lsa va menyu active bo'lsa ko'rsatish (Show close-menu-button if it's inside the menu and the menu is active) */
    .glassmorphism-header .main-nav.active .close-menu-button {
        display: block;
    }

    /* Desktopda ko'rinadigan .user-actions ni mobil rejimda yashirish (Hide desktop .user-actions in mobile mode) */
    .glassmorphism-header .user-actions {
        display: none;
    }

    /* Faqat mobil menyuda ko'rinadigan elementlar (Elements visible only in mobile menu) */
    .glassmorphism-header .main-nav .mobile-user-actions,
    .glassmorphism-header .main-nav .admin-mobile-link {
        display: flex; /* Mobil menyu ochilganda ko'rsatish (Show when mobile menu is open) */
        flex-direction: column; /* Vertikal joylashish (Vertical arrangement) */
    }
}
/* ===============================================
    AuthForm Styles (from AuthForm.css)
    =============================================== */
.auth-container {
    max-width: 400px;
    margin: 50px auto;
    padding: 30px;
    text-align: center;
    border-radius: 16px; /* glassmorphism-card dan oladi, lekin bu yerda aniqlash mumkin */
}

.auth-container h2 {
    margin-bottom: 30px;
    font-size: 2rem;
    color: var(--neo-text); /* Matn rangini CSS o'zgaruvchisidan olish */
    transition: color 0.5s ease;
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.form-group {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}

.form-group .fas {
    color: var(--light-text-color);
    font-size: 1.1rem;
    transition: color 0.5s ease;
}

.form-group input {
    flex-grow: 1;
    padding: 12px 15px; /* glassmorphism-input dan oladi, lekin bu yerda aniqlash mumkin */
    font-size: 1rem;
    border-radius: 10px; /* glassmorphism-input dan oladi */
    /* glassmorphism-input klassining stiliga tayanadi */
}

.error-message {
    color: var(--neo-accent); /* Xato xabari rangi (qizil) */
    margin-top: -10px;
    margin-bottom: 10px;
    font-size: 0.9rem;
}

.auth-container .glassmorphism-button {
    width: 100%;
    padding: 15px;
    font-size: 1.1rem;
    border-radius: 10px;
    transition: all 0.3s ease;
    display: flex; /* Yuklanish ikonkasini markazga joylash uchun */
    justify-content: center;
    align-items: center;
    gap: 8px;
}

.auth-container .glassmorphism-button:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.toggle-auth {
    margin-top: 20px;
    font-size: 0.95rem;
    color: var(--text-color);
    transition: color 0.5s ease;
}

.toggle-auth span {
    color: var(--primary-color);
    cursor: pointer;
    font-weight: bold;
    transition: color 0.3s ease;
}

.toggle-auth span:hover {
    text-decoration: underline;
}

/* Light Mode uchun stillar */
body.light-mode .auth-container h2 {
    color: var(--neo-text);
}

body.light-mode .form-group .fas {
    color: var(--light-text-color);
}

body.light-mode .error-message {
    color: var(--neo-accent);
}

body.light-mode .toggle-auth {
    color: var(--text-color);
}
body.light-mode .toggle-auth span {
    color: var(--primary-color);
}